{"ast":null,"code":"/** @format */import React,{useState}from\"react\";import withFirebaseAuth from\"react-with-firebase-auth\";import firebase from\"firebase/app\";import\"firebase/auth\";import firebaseApp from\"./firebase/firebase\";import Header from\"./components/header/header.component\";import Body from\"./components/body/body.component\";import{useEffect}from\"react\";import{loadRecipes}from\"./slices/recipe.slice\";import{setUserId}from\"./slices/authenticate.slice\";import{useDispatch,useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(props){var user=props.user;var dispatch=useDispatch();useEffect(function(){// Update the document title using the browser API\nif(user){dispatch(setUserId(user.uid));var storage=firebaseApp.storage();var itemsRef=firebaseApp.database().ref(\"users\").child(user.uid).child(\"items\");itemsRef.on(\"value\",function(snapshot){var items=snapshot.val();var newState=[];for(var item in items){newState.push({id:item,title:items[item].title,imageUrl:items[item].imageUrl,description:items[item].description,ingredients:items[item].ingredients,directions:items[item].directions});}dispatch(loadRecipes(newState));});}});return/*#__PURE__*/_jsxs(\"div\",{style:{overflowX:\"hidden\"},children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Body,{})]});};var firebaseAppAuth=firebaseApp.auth();var providers={googleProvider:new firebase.auth.GoogleAuthProvider()};export default withFirebaseAuth({providers:providers,firebaseAppAuth:firebaseAppAuth})(App);","map":{"version":3,"sources":["/Users/atorenherrinton/Development/recipeas/client/src/App.js"],"names":["React","useState","withFirebaseAuth","firebase","firebaseApp","Header","Body","useEffect","loadRecipes","setUserId","useDispatch","useSelector","App","props","user","dispatch","uid","storage","itemsRef","database","ref","child","on","snapshot","items","val","newState","item","push","id","title","imageUrl","description","ingredients","directions","overflowX","firebaseAppAuth","auth","providers","googleProvider","GoogleAuthProvider"],"mappings":"AAAA,cAEA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,gBAAP,KAA6B,0BAA7B,CACA,MAAOC,CAAAA,QAAP,KAAqB,cAArB,CACA,MAAO,eAAP,CACA,MAAOC,CAAAA,WAAP,KAAwB,qBAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sCAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,kCAAjB,CACA,OAASC,SAAT,KAA0B,OAA1B,CAEA,OAASC,WAAT,KAA4B,uBAA5B,CACA,OAASC,SAAT,KAA0B,6BAA1B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,C,wFAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,CAACC,KAAD,CAAW,IACbC,CAAAA,IADa,CACJD,KADI,CACbC,IADa,CAErB,GAAMC,CAAAA,QAAQ,CAAGL,WAAW,EAA5B,CACAH,SAAS,CAAC,UAAM,CACd;AACA,GAAIO,IAAJ,CAAU,CACRC,QAAQ,CAACN,SAAS,CAACK,IAAI,CAACE,GAAN,CAAV,CAAR,CACA,GAAIC,CAAAA,OAAO,CAAGb,WAAW,CAACa,OAAZ,EAAd,CACA,GAAMC,CAAAA,QAAQ,CAAGd,WAAW,CACzBe,QADc,GAEdC,GAFc,CAEV,OAFU,EAGdC,KAHc,CAGRP,IAAI,CAACE,GAHG,EAIdK,KAJc,CAIR,OAJQ,CAAjB,CAKAH,QAAQ,CAACI,EAAT,CAAY,OAAZ,CAAqB,SAACC,QAAD,CAAc,CACjC,GAAIC,CAAAA,KAAK,CAAGD,QAAQ,CAACE,GAAT,EAAZ,CACA,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CAEA,IAAK,GAAIC,CAAAA,IAAT,GAAiBH,CAAAA,KAAjB,CAAwB,CACtBE,QAAQ,CAACE,IAAT,CAAc,CACZC,EAAE,CAAEF,IADQ,CAEZG,KAAK,CAAEN,KAAK,CAACG,IAAD,CAAL,CAAYG,KAFP,CAGZC,QAAQ,CAAEP,KAAK,CAACG,IAAD,CAAL,CAAYI,QAHV,CAIZC,WAAW,CAAER,KAAK,CAACG,IAAD,CAAL,CAAYK,WAJb,CAKZC,WAAW,CAAET,KAAK,CAACG,IAAD,CAAL,CAAYM,WALb,CAMZC,UAAU,CAAEV,KAAK,CAACG,IAAD,CAAL,CAAYO,UANZ,CAAd,EAQD,CACDnB,QAAQ,CAACP,WAAW,CAACkB,QAAD,CAAZ,CAAR,CACD,CAfD,EAgBD,CACF,CA3BQ,CAAT,CA4BA,mBACE,aAAK,KAAK,CAAE,CAAES,SAAS,CAAE,QAAb,CAAZ,wBACE,KAAC,MAAD,IADF,cAEE,KAAC,IAAD,IAFF,GADF,CAMD,CArCD,CAuCA,GAAMC,CAAAA,eAAe,CAAGhC,WAAW,CAACiC,IAAZ,EAAxB,CAEA,GAAMC,CAAAA,SAAS,CAAG,CAChBC,cAAc,CAAE,GAAIpC,CAAAA,QAAQ,CAACkC,IAAT,CAAcG,kBAAlB,EADA,CAAlB,CAIA,cAAetC,CAAAA,gBAAgB,CAAC,CAC9BoC,SAAS,CAATA,SAD8B,CAE9BF,eAAe,CAAfA,eAF8B,CAAD,CAAhB,CAGZxB,GAHY,CAAf","sourcesContent":["/** @format */\n\nimport React, { useState } from \"react\";\nimport withFirebaseAuth from \"react-with-firebase-auth\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport firebaseApp from \"./firebase/firebase\";\nimport Header from \"./components/header/header.component\";\nimport Body from \"./components/body/body.component\";\nimport { useEffect } from \"react\";\n\nimport { loadRecipes } from \"./slices/recipe.slice\";\nimport { setUserId } from \"./slices/authenticate.slice\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst App = (props) => {\n  const { user } = props;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    // Update the document title using the browser API\n    if (user) {\n      dispatch(setUserId(user.uid));\n      var storage = firebaseApp.storage();\n      const itemsRef = firebaseApp\n        .database()\n        .ref(\"users\")\n        .child(user.uid)\n        .child(\"items\");\n      itemsRef.on(\"value\", (snapshot) => {\n        let items = snapshot.val();\n        let newState = [];\n\n        for (let item in items) {\n          newState.push({\n            id: item,\n            title: items[item].title,\n            imageUrl: items[item].imageUrl,\n            description: items[item].description,\n            ingredients: items[item].ingredients,\n            directions: items[item].directions,\n          });\n        }\n        dispatch(loadRecipes(newState));\n      });\n    }\n  });\n  return (\n    <div style={{ overflowX: \"hidden\" }}>\n      <Header />\n      <Body />\n    </div>\n  );\n};\n\nconst firebaseAppAuth = firebaseApp.auth();\n\nconst providers = {\n  googleProvider: new firebase.auth.GoogleAuthProvider(),\n};\n\nexport default withFirebaseAuth({\n  providers,\n  firebaseAppAuth,\n})(App);\n"]},"metadata":{},"sourceType":"module"}