{"ast":null,"code":"/** @format */import React from\"react\";import withFirebaseAuth from\"react-with-firebase-auth\";import firebase from\"firebase/app\";import\"firebase/auth\";import firebaseApp from\"./firebase/firebase\";import Header from\"./components/header/header.component\";import Body from\"./components/body/body.component\";import{useEffect}from\"react\";import{loadRecipes}from\"./slices/recipe.slice\";import{setUserId}from\"./slices/authenticate.slice\";import{useDispatch}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(props){var user=props.user;var dispatch=useDispatch();useEffect(function(){// Update the document title using the browser API\nif(user){dispatch(setUserId(user.uid));var itemsRef=firebaseApp.database().ref(\"users\").child(user.uid).child(\"items\");itemsRef.on(\"value\",function(snapshot){var items=snapshot.val();var newState=[];for(var item in items){newState.push({id:item,title:items[item].title,imageUrl:items[item].imageUrl,description:items[item].description,ingredients:items[item].ingredients,directions:items[item].directions});}dispatch(loadRecipes(newState));});}});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Body,{})]});};var firebaseAppAuth=firebaseApp.auth();var providers={googleProvider:new firebase.auth.GoogleAuthProvider()};export default withFirebaseAuth({providers:providers,firebaseAppAuth:firebaseAppAuth})(App);","map":{"version":3,"sources":["/Users/atorenherrinton/Development/recipeas/client/src/App.js"],"names":["React","withFirebaseAuth","firebase","firebaseApp","Header","Body","useEffect","loadRecipes","setUserId","useDispatch","App","props","user","dispatch","uid","itemsRef","database","ref","child","on","snapshot","items","val","newState","item","push","id","title","imageUrl","description","ingredients","directions","firebaseAppAuth","auth","providers","googleProvider","GoogleAuthProvider"],"mappings":"AAAA,cAEA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,0BAA7B,CACA,MAAOC,CAAAA,QAAP,KAAqB,cAArB,CACA,MAAO,eAAP,CACA,MAAOC,CAAAA,WAAP,KAAwB,qBAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sCAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,kCAAjB,CACA,OAASC,SAAT,KAA0B,OAA1B,CAEA,OAASC,WAAT,KAA4B,uBAA5B,CACA,OAASC,SAAT,KAA0B,6BAA1B,CACA,OAASC,WAAT,KAA4B,aAA5B,C,wFAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,CAACC,KAAD,CAAW,IACbC,CAAAA,IADa,CACJD,KADI,CACbC,IADa,CAErB,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CACAH,SAAS,CAAC,UAAM,CACd;AACA,GAAIM,IAAJ,CAAU,CACRC,QAAQ,CAACL,SAAS,CAACI,IAAI,CAACE,GAAN,CAAV,CAAR,CACA,GAAMC,CAAAA,QAAQ,CAAGZ,WAAW,CACzBa,QADc,GAEdC,GAFc,CAEV,OAFU,EAGdC,KAHc,CAGRN,IAAI,CAACE,GAHG,EAIdI,KAJc,CAIR,OAJQ,CAAjB,CAKAH,QAAQ,CAACI,EAAT,CAAY,OAAZ,CAAqB,SAACC,QAAD,CAAc,CACjC,GAAIC,CAAAA,KAAK,CAAGD,QAAQ,CAACE,GAAT,EAAZ,CACA,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CACA,IAAK,GAAIC,CAAAA,IAAT,GAAiBH,CAAAA,KAAjB,CAAwB,CACtBE,QAAQ,CAACE,IAAT,CAAc,CACZC,EAAE,CAAEF,IADQ,CAEZG,KAAK,CAAEN,KAAK,CAACG,IAAD,CAAL,CAAYG,KAFP,CAGZC,QAAQ,CAAEP,KAAK,CAACG,IAAD,CAAL,CAAYI,QAHV,CAIZC,WAAW,CAAER,KAAK,CAACG,IAAD,CAAL,CAAYK,WAJb,CAKZC,WAAW,CAAET,KAAK,CAACG,IAAD,CAAL,CAAYM,WALb,CAMZC,UAAU,CAAEV,KAAK,CAACG,IAAD,CAAL,CAAYO,UANZ,CAAd,EAQD,CACDlB,QAAQ,CAACN,WAAW,CAACgB,QAAD,CAAZ,CAAR,CACD,CAdD,EAeD,CACF,CAzBQ,CAAT,CA0BA,mBACE,oCACE,KAAC,MAAD,IADF,cAEE,KAAC,IAAD,IAFF,GADF,CAMD,CAnCD,CAqCA,GAAMS,CAAAA,eAAe,CAAG7B,WAAW,CAAC8B,IAAZ,EAAxB,CAEA,GAAMC,CAAAA,SAAS,CAAG,CAChBC,cAAc,CAAE,GAAIjC,CAAAA,QAAQ,CAAC+B,IAAT,CAAcG,kBAAlB,EADA,CAAlB,CAIA,cAAenC,CAAAA,gBAAgB,CAAC,CAC9BiC,SAAS,CAATA,SAD8B,CAE9BF,eAAe,CAAfA,eAF8B,CAAD,CAAhB,CAGZtB,GAHY,CAAf","sourcesContent":["/** @format */\n\nimport React from \"react\";\nimport withFirebaseAuth from \"react-with-firebase-auth\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport firebaseApp from \"./firebase/firebase\";\nimport Header from \"./components/header/header.component\";\nimport Body from \"./components/body/body.component\";\nimport { useEffect } from \"react\";\n\nimport { loadRecipes } from \"./slices/recipe.slice\";\nimport { setUserId } from \"./slices/authenticate.slice\";\nimport { useDispatch } from \"react-redux\";\n\nconst App = (props) => {\n  const { user } = props;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    // Update the document title using the browser API\n    if (user) {\n      dispatch(setUserId(user.uid));\n      const itemsRef = firebaseApp\n        .database()\n        .ref(\"users\")\n        .child(user.uid)\n        .child(\"items\");\n      itemsRef.on(\"value\", (snapshot) => {\n        let items = snapshot.val();\n        let newState = [];\n        for (let item in items) {\n          newState.push({\n            id: item,\n            title: items[item].title,\n            imageUrl: items[item].imageUrl,\n            description: items[item].description,\n            ingredients: items[item].ingredients,\n            directions: items[item].directions,\n          });\n        }\n        dispatch(loadRecipes(newState));\n      });\n    }\n  });\n  return (\n    <div>\n      <Header />\n      <Body />\n    </div>\n  );\n};\n\nconst firebaseAppAuth = firebaseApp.auth();\n\nconst providers = {\n  googleProvider: new firebase.auth.GoogleAuthProvider(),\n};\n\nexport default withFirebaseAuth({\n  providers,\n  firebaseAppAuth,\n})(App);\n"]},"metadata":{},"sourceType":"module"}