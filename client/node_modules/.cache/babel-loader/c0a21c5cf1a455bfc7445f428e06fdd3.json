{"ast":null,"code":"import _slicedToArray from\"/Users/atorenherrinton/Development/recipeas/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/** @format */import React,{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import firebase from\"../../firebase/firebase\";import{selectUserId}from\"../../slices/authenticate.slice\";import{deactivateUrl,deactivateForm}from\"../../slices/form.slice\";import{Container,Row,Col,Card,Form,Button}from\"react-bootstrap\";import{ButtonContainer,ButtonGroupContainer}from\"./recipe-url.styles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RecipeUrl=function RecipeUrl(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),url=_useState2[0],setUrl=_useState2[1];var userId=useSelector(selectUserId);var itemsRef=firebase.database().ref(\"users\").child(userId).child(\"items\");var handleChange=function handleChange(event){setUrl(event.target.value);};var handleSubmit=function handleSubmit(){var url_req_string=\"https://recipeaz.herokuapp.com/api/\"+\"?url=\"+url;fetch(url_req_string).then(function(res){return res.json();}).then(function(data){itemsRef.push(data.result);});dispatch(deactivateForm());dispatch(deactivateUrl());};var dispatch=useDispatch();return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Card,{style:{marginTop:\"6rem\"},children:[/*#__PURE__*/_jsx(Card.Header,{style:{textAlign:\"center\"},as:\"h5\",children:\"New recipe\"}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Recipe URL\"}),/*#__PURE__*/_jsx(Form.Control,{onChange:handleChange,placeholder:\"Enter the URL of the allrecipes.com recipe\"})]}),/*#__PURE__*/_jsxs(ButtonGroupContainer,{children:[/*#__PURE__*/_jsx(ButtonContainer,{children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){dispatch(deactivateForm());dispatch(deactivateUrl());},variant:\"outline-secondary\",children:\"Cancel\"})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"outline-primary\",children:\"Save\"})]})]})})]})})})});};export default RecipeUrl;","map":{"version":3,"sources":["/Users/atorenherrinton/Development/recipeas/client/src/components/recipe-url/recipe-url.component.jsx"],"names":["React","useState","useDispatch","useSelector","firebase","selectUserId","deactivateUrl","deactivateForm","Container","Row","Col","Card","Form","Button","ButtonContainer","ButtonGroupContainer","RecipeUrl","url","setUrl","userId","itemsRef","database","ref","child","handleChange","event","target","value","handleSubmit","url_req_string","fetch","then","res","json","data","push","result","dispatch","marginTop","textAlign"],"mappings":"yKAAA,cAEA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CACA,OAASC,YAAT,KAA6B,iCAA7B,CACA,OAASC,aAAT,CAAwBC,cAAxB,KAA8C,yBAA9C,CACA,OAASC,SAAT,CAAoBC,GAApB,CAAyBC,GAAzB,CAA8BC,IAA9B,CAAoCC,IAApC,CAA0CC,MAA1C,KAAwD,iBAAxD,CACA,OAASC,eAAT,CAA0BC,oBAA1B,KAAsD,qBAAtD,C,wFAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,eACAf,QAAQ,CAAC,EAAD,CADR,wCACfgB,GADe,eACVC,MADU,eAEtB,GAAMC,CAAAA,MAAM,CAAGhB,WAAW,CAACE,YAAD,CAA1B,CACA,GAAMe,CAAAA,QAAQ,CAAGhB,QAAQ,CACtBiB,QADc,GAEdC,GAFc,CAEV,OAFU,EAGdC,KAHc,CAGRJ,MAHQ,EAIdI,KAJc,CAIR,OAJQ,CAAjB,CAKA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC9BP,MAAM,CAACO,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAN,CACD,CAFD,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAMC,CAAAA,cAAc,CAClB,sCAAwC,OAAxC,CAAkDZ,GADpD,CAEAa,KAAK,CAACD,cAAD,CAAL,CACGE,IADH,CACQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EADR,EAEGF,IAFH,CAEQ,SAACG,IAAD,CAAU,CACdd,QAAQ,CAACe,IAAT,CAAcD,IAAI,CAACE,MAAnB,EACD,CAJH,EAKAC,QAAQ,CAAC9B,cAAc,EAAf,CAAR,CACA8B,QAAQ,CAAC/B,aAAa,EAAd,CAAR,CACD,CAVD,CAYA,GAAM+B,CAAAA,QAAQ,CAAGnC,WAAW,EAA5B,CAEA,mBACE,KAAC,SAAD,wBACE,KAAC,GAAD,EAAK,SAAS,CAAC,wBAAf,uBACE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,uBACE,MAAC,IAAD,EAAM,KAAK,CAAE,CAAEoC,SAAS,CAAE,MAAb,CAAb,wBACE,KAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAb,CAApB,CAA4C,EAAE,CAAC,IAA/C,wBADF,cAEE,KAAC,IAAD,CAAM,IAAN,wBACE,MAAC,IAAD,EAAM,QAAQ,CAAEX,YAAhB,wBACE,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,gBAAtB,wBACE,KAAC,IAAD,CAAM,KAAN,yBADF,cAEE,KAAC,IAAD,CAAM,OAAN,EACE,QAAQ,CAAEJ,YADZ,CAEE,WAAW,CAAC,4CAFd,EAFF,GADF,cASE,MAAC,oBAAD,yBACE,KAAC,eAAD,wBACE,KAAC,MAAD,EACE,OAAO,CAAE,kBAAM,CACba,QAAQ,CAAC9B,cAAc,EAAf,CAAR,CACA8B,QAAQ,CAAC/B,aAAa,EAAd,CAAR,CACD,CAJH,CAKE,OAAO,CAAC,mBALV,oBADF,EADF,cAYE,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAC,iBAA9B,kBAZF,GATF,GADF,EAFF,GADF,EADF,EADF,EADF,CAuCD,CAjED,CAmEA,cAAeU,CAAAA,SAAf","sourcesContent":["/** @format */\n\nimport React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport firebase from \"../../firebase/firebase\";\nimport { selectUserId } from \"../../slices/authenticate.slice\";\nimport { deactivateUrl, deactivateForm } from \"../../slices/form.slice\";\nimport { Container, Row, Col, Card, Form, Button } from \"react-bootstrap\";\nimport { ButtonContainer, ButtonGroupContainer } from \"./recipe-url.styles\";\n\nconst RecipeUrl = () => {\n  const [url, setUrl] = useState(\"\");\n  const userId = useSelector(selectUserId);\n  const itemsRef = firebase\n    .database()\n    .ref(\"users\")\n    .child(userId)\n    .child(\"items\");\n  const handleChange = (event) => {\n    setUrl(event.target.value);\n  };\n\n  const handleSubmit = () => {\n    const url_req_string =\n      \"https://recipeaz.herokuapp.com/api/\" + \"?url=\" + url;\n    fetch(url_req_string)\n      .then((res) => res.json())\n      .then((data) => {\n        itemsRef.push(data.result);\n      });\n    dispatch(deactivateForm());\n    dispatch(deactivateUrl());\n  };\n\n  const dispatch = useDispatch();\n\n  return (\n    <Container>\n      <Row className=\"justify-content-center\">\n        <Col md={6}>\n          <Card style={{ marginTop: \"6rem\" }}>\n            <Card.Header style={{ textAlign: \"center\" }}as=\"h5\">New recipe</Card.Header>\n            <Card.Body>\n              <Form onSubmit={handleSubmit}>\n                <Form.Group controlId=\"formBasicEmail\">\n                  <Form.Label>Recipe URL</Form.Label>\n                  <Form.Control\n                    onChange={handleChange}\n                    placeholder=\"Enter the URL of the allrecipes.com recipe\"\n                  />\n                </Form.Group>\n\n                <ButtonGroupContainer>\n                  <ButtonContainer>\n                    <Button\n                      onClick={() => {\n                        dispatch(deactivateForm());\n                        dispatch(deactivateUrl());\n                      }}\n                      variant=\"outline-secondary\"\n                    >\n                      Cancel\n                    </Button>\n                  </ButtonContainer>\n                  <Button type=\"submit\" variant=\"outline-primary\">\n                    Save\n                  </Button>\n                </ButtonGroupContainer>\n              </Form>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default RecipeUrl;\n"]},"metadata":{},"sourceType":"module"}